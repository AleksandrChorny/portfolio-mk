/*! For license information please see app.min.js.LICENSE.txt */
(()=>{"use strict";const e=document.querySelector("body");function t(){"hidden"==e.style.overflow&&(e.style.overflow="")}function c(){"hidden"!==e.style.overflow&&(e.style.overflow="hidden")}const o=document.querySelector(".search"),n=document.querySelector(".search__close"),r="search__results";const s=document.querySelector(".modal"),a=document.querySelector(".modal__close");function i(){if(s.closest("._action")){if(s.classList.remove("_action"),s.classList.add("_passive"),document.querySelector(".alert").closest("._action"))return;t()}}function l(){if(s&&!s.closest("._action")&&(s.classList.remove("_passive"),s.classList.add("_action"),c()),a){function e(e){e.target!=a&&e.target!=s||i()}document.addEventListener("click",e)}}const d=document.querySelector("body"),u=document.querySelector(".alert"),m=document.querySelector(".alert__close");function _(){if(u&&!u.closest("._action")&&(u.classList.remove("_passive"),u.classList.add("_action"),"hidden"!==d.style.overflow&&(d.style.overflow="hidden")),m){function e(e){e.target!=m&&e.target!=u||function(){if(u.closest("._action")){if(u.classList.remove("_action"),u.classList.add("_passive"),document.querySelector(".modal").closest("._action"))return;"hidden"==d.style.overflow&&(d.style.overflow="")}}()}document.addEventListener("click",e)}}var f;!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){const e=r("header"),t=r("header__top-line"),c=r("header__mid-line"),o=r("header__contacts-bar"),n=r("main-menu");function r(e){if(document.querySelector("."+e))return document.querySelector("."+e).offsetHeight}function s(e,t){document.querySelector("."+e)&&document.querySelector("."+e).classList.add(t)}function a(e,t){document.querySelector("."+e).classList.contains(t)&&document.querySelector("."+e).classList.remove(t)}window.onscroll=function(){let r=window.pageYOffset;if(r>t+c&&r<e+n-o&&(s("header__contacts-bar","fixed"),s("header__mid-line","fixed"),document.querySelector(".header__mid-line").style.marginBottom="30px"),r<t+c&&(a("header__contacts-bar","fixed"),a("header__mid-line","fixed"),document.querySelector(".header__mid-line").style.marginBottom="0px"),n&&r>e+n-o+50){if(window.getComputedStyle(document.querySelector(".main-menu")).top<"0")return;s("main-menu","fixed"),s("header__contacts-bar","fixed"),document.querySelector(".header__mid-line").style.marginBottom=n+o+"px"}n&&r<e+n-o+30&&r>t+c&&(document.querySelector(".main-menu").classList.contains("fixed")&&s("main-menu","replase-fixed"),a("main-menu","fixed"),document.querySelector(".header__mid-line").style.marginBottom=o+"px")}}(),function(){document.querySelector(".header__social-btn");const e=document.querySelector(".burger-menu");e&&(e.onclick=()=>{const t=document.querySelector(".mail"),c=document.querySelector(".numbers"),o=e;if(t.classList.contains("_active")&&(t.classList.remove("_active"),document.querySelector("._e-mail_click").style.fill="#4170b4"),c.classList.contains("_active")&&(c.classList.remove("_active"),document.querySelector("._call_click").style.fill="#4170b4"),o.classList.contains("_action"))return n="main-menu",r="_active",document.querySelector("."+n).classList.contains(r)&&document.querySelector("."+n).classList.remove(r),o.classList.remove("_action"),void(document.querySelector("body").classList.contains("_lock")&&document.querySelector("body").classList.remove("_lock"));var n,r;o.classList.contains("_action")||(function(e,t){document.querySelector("."+e)&&document.querySelector("."+e).classList.add("_active")}("main-menu"),document.querySelector("body").classList.add("_lock")),document.querySelector(".burger-menu")&&document.querySelector(".burger-menu").classList.add("_action")}),document.querySelector("._call_click").onclick=()=>{const t=document.querySelector(".mail"),c=document.querySelector(".numbers"),o=e;if(o&&o.classList.add("_action"),t.classList.contains("_active")&&(t.classList.remove("_active"),document.querySelector("._e-mail_click").style.fill="#4170b4"),c){if(c.classList.contains("_active"))return o.classList.remove("_action"),c.classList.remove("_active"),document.querySelector("._call_click").style.fill="#4170b4",void(document.querySelector("body").classList.contains("_lock")&&document.querySelector("body").classList.remove("_lock"));c.classList.add("_active"),document.querySelector("._call_click").style.fill="#FBB03B",document.querySelector("body").classList.add("_lock")}},document.querySelector("._e-mail_click").onclick=()=>{const t=document.querySelector(".mail"),c=document.querySelector(".numbers"),o=e;if(o&&o.classList.add("_action"),c.classList.contains("_active")&&(c.classList.remove("_active"),document.querySelector("._call_click").style.fill="#4170b4"),t){if(t.classList.contains("_active"))return o.classList.remove("_action"),t.classList.remove("_active"),document.querySelector("._e-mail_click").style.fill="#4170b4",void(document.querySelector("body").classList.contains("_lock")&&document.querySelector("body").classList.remove("_lock"));t.classList.add("_active"),document.querySelector("._e-mail_click").style.fill="#FBB03B",document.querySelector("body").classList.add("_lock")}}}(),function(e){const t=document.querySelector(`[name = ${e}]`);if(t){function c(c){if(c.target.closest(`[name = ${e}]`)){const c=t.dataset.form;let o=document.querySelector(".spinner");if(o&&(o=o.innerHTML),document.querySelector(`.modal form[name = ${e}]`))return void l();document.querySelector(".modal__items").innerHTML=o,l(),async function(e=""){const t=await fetch(e,{mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});if(t.ok)return await t.text()}(c).then((e=>{var t;t=e,s.querySelector(".modal__items").innerHTML=t}))}}document.addEventListener("click",c)}}("contactUs"),function(){const e=document.querySelector(".main-menu__close"),t=document.querySelector(".main-menu");if(e){function c(e){if(e.target.closest(".main-menu__close")){if(!t.classList.contains("_hide"))return void t.classList.add("_hide");t.classList.remove("_hide")}}document.addEventListener("click",c)}}(),document.addEventListener("click",(function(e){if("submit"==e.target.type){e.preventDefault();const t=e.target.form;if(t&&function(e){const t=e.querySelectorAll("[required]");let c=null;return t.length>0&&t.forEach((e=>(e.addEventListener("focus",(e=>{const t=e.target;t.classList.remove("wrongValue"),t.style.backgroundColor=null})),e.addEventListener("blur",(e=>{const t=e.target;t.value||(t.classList.add("wrongValue"),t.style.backgroundColor="#F7931E")})),e.value&&0==c?c=!1:e.value?c=!0:e.value?void 0:(e.classList.add("wrongValue"),e.style.backgroundColor="#F7931E",c=!1)))),c}(t)){const e=new FormData(t);t.getAttribute("name")&&e.append("formName",t.getAttribute("name"));try{e.append("trace",b24Tracker.guest.getTrace())}catch(e){console.log("Немає зв'язку з Б24")}(async function(e="",t){const c=await fetch(e,{method:"POST",body:t});if(c.ok)return await c.text()})("/form/submit/",e).then((e=>{if(e)return console.log(e),function(e){const t=u.querySelector(".alert__items");if("string"==typeof e||e instanceof String){if(u&&t&&e){if(!t.querySelector("[data-not-reset]"))return void(t.innerHTML=e);if(t.querySelector("[data-not-reset]")){let c=(new DOMParser).parseFromString(e,"text/html");if(c.querySelector("[data-not-reset]"))return void(c.querySelector("[data-not-reset]").dataset.notReset!==t.querySelector("[data-not-reset]").dataset.notReset&&(t.innerHTML=e));c&&(t.innerHTML=e)}}}else console.log("typeof not string")}(e),_(),void i();_()}))}}})),document.addEventListener("click",(function(e){e.target.closest(".search__input")&&function(){const e=o.getBoundingClientRect().x,r=o.getBoundingClientRect().y;if(o.style.cssText=`--searchLeft: ${e}px; --searchTop: ${r}px;`,o&&!o.closest("._action")&&(o.classList.remove("_passive"),o.classList.add("_action"),c()),n){function s(e){e.target!=n&&e.target!=o||o.closest("._action")&&(o.classList.remove("_action"),o.classList.add("_passive"),t())}document.addEventListener("click",s)}}()})),document.addEventListener("input",(function(e){e.target.closest(".search__input")&&(e.preventDefault(),e.target.value.length>2&&function(e){const t=document.querySelector(`.${r}`),c=new FormData,o=document.documentElement.lang,n=document.createElement("div");n.classList.add("search__results","_center"),n.append(function(){const e=document.createElement("div"),t=document.createElement("div");return e.classList.add("preloader-spinner"),e.append(t),e.append(t),e.append(t),e}()),t.replaceWith(n),die(),c.append("formName","mySearch"),c.append("inputValue",e),async function(e="",t){const c=await fetch(e,{method:"POST",body:t});if(c.ok)return await c.json()}("/form/submit/",c).then((e=>{if(e)return"fulse"==e?void t.append(function(){const e=document.createElement("div");e.classList.add("search__result-card","searchResultCard");const t=document.createElement("p");return t.classList.add("search-card__description"),t.textContent="Нічого не знайшли","ru-UA"==o&&(t.textContent="Ничего не найдено"),e.append(t),e}()):void t.replaceWith(function(e){const t=document.createElement("div");return t.classList.add(`${r}`),e.forEach((e=>{if(e){const c=document.createElement("a");c.setAttribute("href",e.link),"ru-UA"==o&&c.setAttribute("href",`/ru${e.link}`);const n=document.createElement("div");n.classList.add("search__result-card","search-card"),c.append(n);const r=document.createElement("img");r.setAttribute("src",`/img/goods/${e.file_name}_${e.color}.jpg`),r.setAttribute("alt",e.altImg),n.append(r);const s=document.createElement("div");s.classList.add("search-card__content"),n.append(s);const a=document.createElement("h3");a.classList.add("search-card__title"),a.textContent=e.title,"ru-UA"==o&&(a.textContent=e.title_ru),s.append(a);const i=document.createElement("p");i.classList.add("search-card__art"),i.textContent=`арт.: ${e.id}`,s.append(i);const l=document.createElement("p");return l.classList.add("search-card__description"),l.innerHTML=`${e.name} <br> ${e.name2}`,"ru-UA"==o&&(l.innerHTML=`${e.name_ru} <br> ${e.name2_ru}`),s.append(l),t.append(c),t}return console.log(t),t})),console.log(t),t}(e))}))}(e.target.value))})),f={goodsCard:"goods-card",goodsColorBoard:"goods-card__color-items",goodsColor:"goods-card__color-item",goodsImage:"goods-card__img",goodsPrice:"goods-card__price",actionClassName:"_action"},document.addEventListener("click",(e=>{if(e.target.closest(`.${f.goodsColorBoard}`)){if(e.target.closest(`.${f.actionClassName} `))return e.target.closest(`.${f.goodsColor}`)?void function(e){e.target.getAttribute("data-srcImg")&&e.target.closest(`.${f.goodsCard}`).querySelector("img").setAttribute("src",e.target.getAttribute("data-srcImg")),e.target.getAttribute("data-price")&&(e.target.closest(`.${f.goodsCard}`).querySelector(`.${f.goodsPrice}`).innerHTML=`Ціна: ${e.target.getAttribute("data-price")} грн.`)}(e):void e.target.closest(`.${f.goodsColorBoard}`).classList.remove(f.actionClassName);e.target.closest(`.${f.goodsColorBoard}`).classList.add(f.actionClassName)}}))})();